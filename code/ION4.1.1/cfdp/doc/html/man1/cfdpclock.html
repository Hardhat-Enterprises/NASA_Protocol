<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>cfdpclock - CFDP daemon task for managing scheduled events</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:mingw-dvlpr@lists.sourceforge.net" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#exit_status">EXIT STATUS</a></li>
	<li><a href="#files">FILES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
	<li><a href="#diagnostics">DIAGNOSTICS</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>cfdpclock - CFDP daemon task for managing scheduled events</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>cfdpclock</strong></p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><strong>cfdpclock</strong> is a background ``daemon'' task that periodically performs
scheduled CFDP activities.  It is spawned automatically by <strong>cfdpadmin</strong> in
response to the 's' command that starts operation of the CFDP protocol, and
it is terminated by <strong>cfdpadmin</strong> in response to an 'x' (STOP) command.</p>
<p>Once per second, <strong>cfdpclock</strong> takes the following action:</p>
<p>First it scans all inbound file delivery units (FDUs).  For each one
whose check timeout deadline has passed, it increments the check timeout
count and resets the check timeout deadline.  For each one whose check
timeout count exceeds the limit configured for this node, it invokes
the Check Limit Reached fault handling procedure.</p>
<p>Then it scans all outbound FDUs.  For each one that has been Canceled, it
cancels all extant PDU bundles and sets transmission progress to the size
of the file, simulating the completion of transmission.  It destroys each
outbound FDU whose transmission is completed.</p>
<p>
</p>
<hr />
<h1><a name="exit_status">EXIT STATUS</a></h1>
<dl>
<dt><strong><a name="item__220_22">``0''</a></strong>

<dd>
<p><strong>cfdpclock</strong> terminated, for reasons noted in the <strong>ion.log</strong> file.  If this
termination was not commanded, investigate and solve the problem identified
in the log file and use <strong>cfdpadmin</strong> to restart <strong>cfdpclock</strong>.</p>
</dd>
</li>
<dt><strong><a name="item__221_22">``1''</a></strong>

<dd>
<p><strong>cfdpclock</strong> was unable to attach to CFDP protocol operations, probably because
<strong>cfdpadmin</strong> has not yet been run.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p>No configuration files are needed.</p>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<p>No environment variables apply.</p>
<p>
</p>
<hr />
<h1><a name="diagnostics">DIAGNOSTICS</a></h1>
<p>The following diagnostics may be issued to the <strong>ion.log</strong> log file:</p>
<dl>
<dt><strong><a name="item_cfdpclock_can_27t_initialize_cfdp_2e">cfdpclock can't initialize CFDP.</a></strong>

<dd>
<p><strong>cfdpadmin</strong> has not yet initialized CFDP protocol operations.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_dispatch_events_2e">Can't dispatch events.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>cfdpclock</strong> terminates.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_manage_links_2e">Can't manage links.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>cfdpclock</strong> terminates.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Report bugs to &lt;<a href="mailto:ion-dtn-support@lists.sourceforge.net">ion-dtn-support@lists.sourceforge.net</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><code>cfdpadmin(1)</code></p>

</body>

</html>
