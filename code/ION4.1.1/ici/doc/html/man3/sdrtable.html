<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>sdrtable - Simple Data Recorder table management functions</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:mingw-dvlpr@lists.sourceforge.net" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>sdrtable - Simple Data Recorder table management functions</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    #include &quot;sdr.h&quot;</pre>
<pre>
    Object  sdr_table_create        (Sdr sdr, int rowSize, int rowCount);
    int     sdr_table_user_data_set (Sdr sdr, Object table, Address userData);
    Address sdr_table_user_data     (Sdr sdr, Object table);
    int     sdr_table_dimensions    (Sdr sdr, Object table, int *rowSize, 
                                        int *rowCount);
    int     sdr_table_stage         (Sdr sdr, Object table);
    Address sdr_table_row           (Sdr sdr, Object table, 
                                        unsigned int rowNbr);
    int     sdr_table_destroy       (Sdr sdr, Object table);</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The SDR table functions manage table objects in the SDR.  An SDR
table comprises N rows of M bytes each, plus optionally one word
of user data (which is nominally the address of some other object
in the SDR's heap space).  When a table is created, the number of
rows in the table and the length of each row are specified; they remain
fixed for the life of the table.  The table functions merely
maintain information about the table structure and its location
in the SDR and calculate row addresses; other SDR functions such as
<code>sdr_read()</code> and <code>sdr_write()</code> are used to read and write the contents of
the table's rows.  In particular, the format of the rows of a
table is left entirely up to the user.</p>
<dl>
<dt><strong><a name="item_sdr_table_create">Object sdr_table_create(Sdr sdr, int rowSize, int rowCount)</a></strong>

<dd>
<p>Creates a ``self-delimited table'', comprising <em>rowCount</em> rows of
<em>rowSize</em> bytes each, in the heap space of the indicated SDR.  Note
that the content of the table, a two-dimensional array, is a single
SDR heap space object of size (<em>rowCount</em> x <em>rowSize</em>).  Returns
the address of the new table on success, zero on any error.</p>
</dd>
</li>
<dt><strong><a name="item_sdr_table_user_data_set">void sdr_table_user_data_set(Sdr sdr, Object table, Address userData)</a></strong>

<dd>
<p>Sets the ``user data'' word of <em>table</em> to <em>userData</em>.  Note that
<em>userData</em> is nominally an Address but can in fact be any value
that occupies a single word.  It is typically used to point to an
SDR object that somehow characterizes the table as a whole, such as an
SDR string containing a name.</p>
</dd>
</li>
<dt><strong><a name="item_sdr_table_user_data">Address sdr_table_user_data(Sdr sdr, Object table)</a></strong>

<dd>
<p>Returns the value of the ``user data'' word of <em>table</em>, or zero on any
error.</p>
</dd>
</li>
<dt><strong><a name="item_sdr_table_dimensions">void sdr_table_dimensions(Sdr sdr, Object table, int *rowSize, int *rowCount)</a></strong>

<dd>
<p>Reports on the row size and row count of the indicated table, as specified
when the table was created.</p>
</dd>
</li>
<dt><strong><a name="item_sdr_table_stage">void sdr_table_stage(Sdr sdr, Object table)</a></strong>

<dd>
<p>Stages <em>table</em> so that the array it encapsulates may be updated; see the
discussion of <code>sdr_stage()</code> in sdr(3).  The effect of this function is
the same as:</p>
</dd>
<dd>
<pre>
   sdr_stage(sdr, NULL, (Object) sdr_table_row(sdr, table, 0), 0)</pre>
</dd>
</li>
<dt><strong><a name="item_sdr_table_row">Address sdr_table_row(Sdr sdr, Object table, unsigned int rowNbr)</a></strong>

<dd>
<p>Returns the address of the <em>rowNbr</em>th row of <em>table</em>, for use in
reading or writing the content of this row; returns -1 on any error.</p>
</dd>
</li>
<dt><strong><a name="item_sdr_table_destroy">void sdr_table_destroy(Sdr sdr, Object table)</a></strong>

<dd>
<p>Destroys <em>table</em>, releasing all bytes of all rows and destroying the
table structure itself.  DO NOT use <code>sdr_free()</code> to destroy a table, as
this would leave the table's content allocated yet unreferenced.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>sdr(3), sdrlist(3), <code>sdrstring(3)</code></p>

</body>

</html>
