<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>rfxclock - ION daemon task for managing scheduled events</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:mingw-dvlpr@lists.sourceforge.net" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#exit_status">EXIT STATUS</a></li>
	<li><a href="#files">FILES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
	<li><a href="#diagnostics">DIAGNOSTICS</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>rfxclock - ION daemon task for managing scheduled events</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>rfxclock</strong></p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><strong>rfxclock</strong> is a background ``daemon'' task that periodically applies
scheduled changes in node connectivity and range to the ION node's database.
It is spawned automatically by <strong>ionadmin</strong> in response to the 's' command
that starts operation of the ION node infrastructure, and it is terminated
by <strong>ionadmin</strong> in response to an 'x' (STOP) command.</p>
<p>Once per second, <strong>rfxclock</strong> takes the following action:</p>
<p>For each neighboring node that has been refusing custody of bundles sent to
it to be forwarded to some destination node, to which no such bundle has
been sent for at least N seconds (where N is twice the one-way light time
from the local node to this neighbor), <strong>rfxclock</strong> turns on a <em>probeIsDue</em>
flag authorizing transmission of the next such bundle in hopes of learning
that this neighbor is now able to accept custody.</p>
<p>Then <strong>rfxclock</strong> purges the database of all range and contact information
that is no longer applicable, based on the stop times of the records.</p>
<p>Finally, <strong>rfxclock</strong> applies to the database all range and contact information
that is currently applicable, i.e., those records whose start times are
before the current time and whose stop times are in the future.</p>
<p>
</p>
<hr />
<h1><a name="exit_status">EXIT STATUS</a></h1>
<dl>
<dt><strong><a name="item__220_22">``0''</a></strong>

<dd>
<p><strong>rfxclock</strong> terminated, for reasons noted in the <strong>ion.log</strong> file.  If this
termination was not commanded, investigate and solve the problem identified
in the log file and use <strong>ionadmin</strong> to restart <strong>rfxclock</strong>.</p>
</dd>
</li>
<dt><strong><a name="item__221_22">``1''</a></strong>

<dd>
<p><strong>rfxclock</strong> was unable to attach to the local ION node, probably because
<strong>ionadmin</strong> has not yet been run.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p>No configuration files are needed.</p>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<p>No environment variables apply.</p>
<p>
</p>
<hr />
<h1><a name="diagnostics">DIAGNOSTICS</a></h1>
<p>The following diagnostics may be issued to the <strong>ion.log</strong> log file:</p>
<dl>
<dt><strong><a name="item_rfxclock_can_27t_attach_to_ion_2e">rfxclock can't attach to ION.</a></strong>

<dd>
<p><strong>ionadmin</strong> has not yet initialized the ION database.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_apply_ranges_2e">Can't apply ranges.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>rfxclock</strong> terminates.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_apply_contacts_2e">Can't apply contacts.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>rfxclock</strong> terminates.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_purge_ranges_2e">Can't purge ranges.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>rfxclock</strong> terminates.</p>
</dd>
</li>
<dt><strong><a name="item_can_27t_purge_contacts_2e">Can't purge contacts.</a></strong>

<dd>
<p>An unrecoverable database error was encountered.  <strong>rfxclock</strong> terminates.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Report bugs to &lt;<a href="mailto:ion-dtn-support@lists.sourceforge.net">ion-dtn-support@lists.sourceforge.net</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><code>ionadmin(1)</code></p>

</body>

</html>
